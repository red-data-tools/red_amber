<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: RedAmber::SubFrames
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RedAmber::SubFrames";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../RedAmber.html" title="RedAmber (module)">RedAmber</a></span></span>
     &raquo; 
    <span class="title">SubFrames</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: RedAmber::SubFrames
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">RedAmber::SubFrames</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Enumerable, <span class='object_link'><a href="Helper.html" title="RedAmber::Helper (module)">Helper</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/red_amber/subframes.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>class SubFrames treats subsets of a DataFrame</p>
<dl class="rdoc-list label-list"><dt>Experimental feature</dt>
<dd>
<p>Class SubFrames may be removed or be changed in the future.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#by_dataframes-class_method" title="by_dataframes (class method)">.<strong>by_dataframes</strong>(dataframes)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new SubFrames from an Array of DataFrames.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#by_filters-class_method" title="by_filters (class method)">.<strong>by_filters</strong>(dataframe, subset_filters)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new SubFrames object from a DataFrame and an array of filters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#by_group-class_method" title="by_group (class method)">.<strong>by_group</strong>(group)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create SubFrames from a Group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#by_indices-class_method" title="by_indices (class method)">.<strong>by_indices</strong>(dataframe, subset_indices)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new SubFrames object from a DataFrame and an array of indices.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#aggregate-instance_method" title="#aggregate (instance method)">#<strong>aggregate</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Aggregate SubFrames to create a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assign-instance_method" title="#assign (instance method)">#<strong>assign</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Update existing column(s) or create new columns(s) for each DataFrames in self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#baseframe-instance_method" title="#baseframe (instance method)">#<strong>baseframe</strong>  &#x21d2; DataFrame </a>
    

    
      (also: #concatenate, #concat)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return concatenated SubFrames as a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterates over sub DataFrames or returns an Enumerator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Test if subset is empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filter_map-instance_method" title="#filter_map (instance method)">#<strong>filter_map</strong> {|dataframe| ... } &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a SubFrames containing truthy DataFrames returned by the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frames-instance_method" title="#frames (instance method)">#<strong>frames</strong>(n_frames = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return an Array of sub DataFrames.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(dataframe, selectors = nil, &amp;block)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new SubFrames object from a DataFrame and an array of indices or filters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>(limit: 5)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return summary information of self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong> {|dataframe| ... } &#x21d2; SubFrames </a>
    

    
      (also: #collect)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a SubFrames containing DataFrames returned by the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#offset_indices-instance_method" title="#offset_indices (instance method)">#<strong>offset_indices</strong>  &#x21d2; Array&lt;Integer&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Indices at the top of each sub DataFrames.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|dataframe| ... } &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a SubFrames containing DataFrames rejected by the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|dataframe| ... } &#x21d2; SubFrames </a>
    

    
      (also: #filter, #find_all)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a SubFrames containing DataFrames selected by the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Number of subsets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sizes-instance_method" title="#sizes (instance method)">#<strong>sizes</strong>  &#x21d2; Array&lt;Integer&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Size list of subsets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(num)  &#x21d2; SubFrames </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return 0…num sub-dataframes in self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>(limit: 5)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return string representation of self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#universal%3F-instance_method" title="#universal? (instance method)">#<strong>universal?</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Test if self has only one subset and it is comprehensive.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    
      <span class="overload">#<strong>initialize</strong>(dataframe, subset_specifier)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
    
      <span class="overload">#<strong>initialize</strong>(dataframe) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new SubFrames object from a DataFrame and an array of indices or filters.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>initialize</strong>(dataframe, subset_specifier)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Create a new SubFrames object.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>dataframe

# =&gt;
#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x00000000000039e4&gt;
  x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
2       3 B        false
3       4 B        (nil)
4       5 B        true
5       6 C        false

# --- This object is used as common source in this class ---
subframes = SubFrames.new(dataframe, [[0 ,1], [2, 3, 4], [5]])

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000cf6c&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000cf80&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x000000000000cf94&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x000000000000cfa8&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000000cfbc&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a source dataframe.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subset_specifier</span>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span>&gt;</tt>, <tt>Array&lt;array-like&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of numeric indices or boolean filters to create subsets of DataFrame.</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>initialize</strong>(dataframe) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Create a new SubFrames object by block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>SubFrames.new(dataframe) do |df|
  booleans = df[:z]
  [booleans, !booleans]
end

# =&gt;
#&lt;RedAmber::SubFrames : 0x0000000000003aac&gt;
@baseframe=#&lt;RedAmber::DataFrame : 5 x 3 Vectors, 0x0000000000003ac0&gt;
2 SubFrames: [2, 3] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x0000000000003ad4&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       2 A        true
1       5 B        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x0000000000003ae8&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       3 B        false
2       6 C        false</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a source dataframe.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block is called with ‘dataframe`.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;numeric_array_like&gt;</tt>, <tt>Array&lt;boolean_array_like&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of index or boolean array-likes to create subsets of DataFrame. All array-likes are responsible to #numeric? or #boolean?.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='comma'>,</span> <span class='id identifier rubyid_selectors'>selectors</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_dataframe'>dataframe</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="SubFramesArgumentError.html" title="RedAmber::SubFramesArgumentError (class)">SubFramesArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not a DataFrame: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="SubFramesArgumentError.html" title="RedAmber::SubFramesArgumentError (class)">SubFramesArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Must not specify both arguments and block.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_selectors'>selectors</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_dataframe'>dataframe</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='comment'># rubocop:disable Style/ZeroLengthPredicate
</span>    <span class='ivar'>@baseframe</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span>
    <span class='ivar'>@selectors</span> <span class='op'>=</span> <span class='const'>Selectors</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@baseframe</span> <span class='op'>=</span> <span class='id identifier rubyid_dataframe'>dataframe</span>
    <span class='ivar'>@selectors</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
        <span class='const'>Filters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_selectors'>selectors</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_numeric?'>numeric?</span>
        <span class='const'>Indices</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_selectors'>selectors</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="SubFramesArgumentError.html" title="RedAmber::SubFramesArgumentError (class)">SubFramesArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>illegal type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selectors'>selectors</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@frames</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="by_dataframes-class_method">
  
    .<strong>by_dataframes</strong>(dataframes)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>dataframes must have same schema.</p>
</div>
  </div>


<p>Create a new SubFrames from an Array of DataFrames.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dataframes</span>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an array of DataFrames which have same schema.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_by_dataframes'>by_dataframes</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframes'>dataframes</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span> <span class='op'>=</span> <span class='id identifier rubyid_allocate'>allocate</span>
  <span class='kw'>case</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframes'>dataframes</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@baseframe</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@selectors</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@frames</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@baseframe</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@selectors</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@frames</span><span class='comma'>,</span> <span class='id identifier rubyid_dataframes'>dataframes</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_instance'>instance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="by_filters-class_method">
  
    .<strong>by_filters</strong>(dataframe, subset_filters)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>this method doesn’t check arguments.</p>
</div>
  </div>


<p>Create a new SubFrames object from a DataFrame and an array of filters.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a source dataframe.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subset_filters</span>
      
      
        <span class='type'>(<tt>Array</tt>, <tt>Array&lt;<span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of booleans to specify subsets of DataFrame. Each filters must have same length as dataframe.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_by_filters'>by_filters</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='comma'>,</span> <span class='id identifier rubyid_subset_filters'>subset_filters</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span> <span class='op'>=</span> <span class='id identifier rubyid_allocate'>allocate</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@baseframe</span><span class='comma'>,</span> <span class='id identifier rubyid_dataframe'>dataframe</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@selectors</span><span class='comma'>,</span> <span class='const'>Filters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_subset_filters'>subset_filters</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@frames</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="by_group-class_method">
  
    .<strong>by_group</strong>(group)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create SubFrames from a Group.</p>
<dl class="rdoc-list label-list"><dt>Experimental feature</dt>
<dd>
<p>this method may be removed or be changed in the future.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>dataframe

# =&gt;
#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000fba4&gt;
x y        z
&lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
2       3 B        false
3       4 B        (nil)
4       5 B        true
5       6 C        false

group = Group.new(dataframe, [:y])
sf = SubFrames.by_group(group)

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000fbb8&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000fb7c&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x000000000000fbcc&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x000000000000fbe0&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000000fbf4&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>group</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Group.html" title="RedAmber::Group (class)">Group</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Group to be used to create SubFrames.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a created SubFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_by_group'>by_group</span><span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_filters'><span class='object_link'><a href="#by_filters-class_method" title="RedAmber::SubFrames.by_filters (method)">by_filters</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='comma'>,</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_filters'>filters</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="by_indices-class_method">
  
    .<strong>by_indices</strong>(dataframe, subset_indices)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>this method doesn’t check arguments.</p>
</div>
  </div>


<p>Create a new SubFrames object from a DataFrame and an array of indices.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a source dataframe.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subset_indices</span>
      
      
        <span class='type'>(<tt>Array</tt>, <tt>Array&lt;<span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of numeric indices to create subsets of DataFrame.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_by_indices'>by_indices</span><span class='lparen'>(</span><span class='id identifier rubyid_dataframe'>dataframe</span><span class='comma'>,</span> <span class='id identifier rubyid_subset_indices'>subset_indices</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span> <span class='op'>=</span> <span class='id identifier rubyid_allocate'>allocate</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@baseframe</span><span class='comma'>,</span> <span class='id identifier rubyid_dataframe'>dataframe</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@selectors</span><span class='comma'>,</span> <span class='const'>Indices</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_subset_indices'>subset_indices</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@frames</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="aggregate-instance_method">
  
    
      <span class="overload">#<strong>aggregate</strong>(keys) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>aggregate</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>aggregate</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>aggregate</strong>(group_keys, aggregations)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>aggregate</strong>(group_keys, aggregations)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method does not check if aggregation function is used.</p>
</div>
  </div>


<p>Aggregate SubFrames to create a DataFrame.</p>

<p>This method creates a DataFrame with one row corresponding to one sub dataframe.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>aggregate</strong>(keys) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Aggregate SubFrames creating DataFrame with label ‘keys` and its column values by block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate by key labels in arguments and values from block.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.aggregate(:y, :sum_x) { [y.one, x.sum] }

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000003b24&gt;
  y          sum_x
  &lt;string&gt; &lt;uint8&gt;
0 A              3
1 B             12
2 C              6</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate by key labels in an Array and values from block.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.aggregate([:y, :sum_x]) { [y.one, x.sum] }

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000003b24&gt;
  y          sum_x
  &lt;string&gt; &lt;uint8&gt;
0 A              3
1 B             12
2 C              6</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>keys</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>Array&lt;Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a key or keys of result. Key names may be renamed to new label.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>passes each dataframe in self to the block. Block is called by instance_eval, so inside of the block is the context of passed dataframe.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>aggregated values from the columns of passed dataframe.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>created DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>aggregate</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Aggregate SubFrames creating DataFrame with pairs of key and aggregated values in Hash from the block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate by key and value pairs from block.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.aggregate do
  { y: y.one, sum_x: x.sum }
end

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000003b24&gt;
  y          sum_x
  &lt;string&gt; &lt;uint8&gt;
0 A              3
1 B             12
2 C              6</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>passes each dataframe in self to the block. Block is called by instance_eval, so inside of the block is the context of passed dataframe.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;key =&gt; aggregated_value&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pairs of key name and aggregated values from the columns of passed dataframe. Key names may be renamed to new label in the result.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>created DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>aggregate</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Aggregate SubFrames creating DataFrame with an Array of key and aggregated value from the block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate by key and value arrays from block.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.aggregate do
  [[:y, y.first], [:sum_x, x.sum]]
end

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000003b24&gt;
  y          sum_x
  &lt;string&gt; &lt;uint8&gt;
0 A              3
1 B             12
2 C              6</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>passes each dataframe in self to the block. Block is called by instance_eval, so inside of the block is the context of passed dataframe.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;key, aggregated_value&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pairs of key name and aggregated values from the columns of passed dataframe. Key names may be renamed to new label in the result.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>created DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>aggregate</strong>(group_keys, aggregations)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Aggregate SubFrames for first values of the columns of ‘group_keys` and the aggregated results of key-function pairs.</p>
<dl class="rdoc-list label-list"><dt>Experimental</dt>
<dd>
<p>This API may be changed in the future.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate with a group key and key function pairs by a Hash.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.aggregate(:y, { x: :sum, z: :count })

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000003b24&gt;
  y          sum_x count_z
  &lt;string&gt; &lt;uint8&gt; &lt;uint8&gt;
0 A              3       2
1 B             12       2
2 C              6       1</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>group_keys</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>, <tt>Array&lt;Symbol, String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>group key name(s) to output values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>aggregations</span>
      
      
        <span class='type'>(<tt>Hash&lt;Array&lt;Symbol, String&gt; =&gt; Array&lt;:Symbol&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Hash of variable (column) name and Vector aggregate function name to apply.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an aggregated DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>aggregate</strong>(group_keys, aggregations)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Aggregate SubFrames for first values of the columns of ‘group_keys` and the aggregated results of all combinations of supplied keys and functions.</p>
<dl class="rdoc-list label-list"><dt>Experimental</dt>
<dd>
<p>This API may be changed in the future.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Aggregate with group keys and keys and functions by an Array.</p>
</div></h5>
      
      <pre class="example code"><code>sf.aggregate(:y, [[:x, :z], [:count, :sum]])

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 5 Vectors, 0x000000000000fcbc&gt;
  y        count_x   sum_x count_z   sum_z
  &lt;string&gt; &lt;uint8&gt; &lt;uint8&gt; &lt;uint8&gt; &lt;uint8&gt;
0 A              2       3       2       1
1 B              3      12       2       1
2 C              1       6       1       0</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>group_keys</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>, <tt>Array&lt;Symbol, String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>group key name(s) to output values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>aggregations</span>
      
      
        <span class='type'>(<tt>Array[Array&lt;Symbol, String&gt;, Array&lt;:Symbol&gt;]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of Array of variable (column) names and Array of Vector aggregate function names to apply.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an aggregated DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 561</span>

<span class='kw'>def</span> <span class='id identifier rubyid_aggregate'>aggregate</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_aggregator'>aggregator</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='comment'># aggregate { {key =&gt; value} or [[key, value], ...] }
</span>        <span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_df'>df</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span>
          <span class='id identifier rubyid_df'>df</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
            <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_v'>v</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='comment'># aggregate(keys) { values }
</span>        <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_df'>df</span><span class='op'>|</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_df'>df</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_transpose'>transpose</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_values'>values</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='comment'># These functions may be removed in the future.
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>
      <span class='kw'>in</span> <span class='lbracket'>[</span><span class='id identifier rubyid_group_keys1'>group_keys1</span><span class='comma'>,</span> <span class='const'>Hash</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_h'>h</span><span class='rbracket'>]</span>
        <span class='comment'># aggregate(group_keys, { key =&gt; func })
</span>        <span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_group_keys1'>group_keys1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='lbracket'>[</span><span class='id identifier rubyid__2'>_2</span><span class='comma'>,</span> <span class='id identifier rubyid__1'>_1</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Style/NumberedParametersLimit
</span>      <span class='kw'>in</span> <span class='lbracket'>[</span><span class='id identifier rubyid_group_keys2'>group_keys2</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Array</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='const'>Array</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_funcs'>funcs</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
        <span class='comment'># aggregate(group_keys, [keys, funcs])
</span>        <span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_group_keys2'>group_keys2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_funcs'>funcs</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="SubFramesArgumentError.html" title="RedAmber::SubFramesArgumentError (class)">SubFramesArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid argument: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sf'>sf</span> <span class='op'>=</span> <span class='kw'>self</span>
      <span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_func'>func</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_func'>func</span> <span class='op'>==</span> <span class='symbol'>:first</span> <span class='op'>?</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_func'>func</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='lbracket'>[</span><span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_sf'>sf</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_df'>df</span><span class='op'>|</span> <span class='id identifier rubyid_df'>df</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_func'>func</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_aggregator'>aggregator</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="assign-instance_method">
  
    
      <span class="overload">#<strong>assign</strong>(key) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
    
      <span class="overload">#<strong>assign</strong>(keys) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
    
      <span class="overload">#<strong>assign</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Update existing column(s) or create new columns(s) for each DataFrames in self.</p>

<p>Column values are updated by an oveloaded common operation.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>assign</strong>(key) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Assign a column by argument and block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>subframes.assign(:x_plus1) { x + 1 }

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000c3a0&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 4 Vectors, 0x000000000000c3b4&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 4 Vectors, 0x000000000000c3c8&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       1 A        false           2
1       2 A        true            3
---
#&lt;RedAmber::DataFrame : 3 x 4 Vectors, 0x000000000000c3dc&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       3 B        false           4
1       4 B        (nil)           5
2       5 B        true            6
---
#&lt;RedAmber::DataFrame : 1 x 4 Vectors, 0x000000000000c3f0&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       6 C        false           7</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a key of column to assign.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives overloaded dataframe in self to the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Array</tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an updated column value which are overloaded.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object with updated DataFrames.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>assign</strong>(keys) {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Assign columns by arguments and block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>subframes.assign(:sum_x, :frac_x) do
  group_sum = x.sum
  [[group_sum] * size, x / group_sum.to_f]
end

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000fce4&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 5 Vectors, 0x000000000000fcf8&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 5 Vectors, 0x000000000000fd0c&gt;
        x y        z           sum_x   frac_x
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt; &lt;double&gt;
0       1 A        false           3     0.33
1       2 A        true            3     0.67
---
#&lt;RedAmber::DataFrame : 3 x 5 Vectors, 0x000000000000fd20&gt;
        x y        z           sum_x   frac_x
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt; &lt;double&gt;
0       3 B        false          12     0.25
1       4 B        (nil)          12     0.33
2       5 B        true           12     0.42
---
#&lt;RedAmber::DataFrame : 1 x 5 Vectors, 0x000000000000fd34&gt;
        x y        z           sum_x   frac_x
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt; &lt;double&gt;
0       6 C        false           6      1.0</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>keys</span>
      
      
        <span class='type'>(<tt>Array&lt;Symbol, String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>keys of columns to assign.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives overloaded dataframes in self to the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span>, Array, Arrow::Array&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an updated column values which are overloaded.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object with updated DataFrames.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>assign</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Assign column(s) by block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Compute ‘x * z’ when (true, not_true) = (1, 0) in z</p>
</div></h5>
      
      <pre class="example code"><code>subframes.assign do
  { &#39;x*z&#39;: x * z.if_else(1, 0) }
end

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000fd98&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 4 Vectors, 0x000000000000fdac&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 4 Vectors, 0x000000000000fdc0&gt;
        x y        z             x*z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       1 A        false           0
1       2 A        true            2
---
#&lt;RedAmber::DataFrame : 3 x 4 Vectors, 0x000000000000fdd4&gt;
        x y        z             x*z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       3 B        false           0
1       4 B        (nil)       (nil)
2       5 B        true            5
---
#&lt;RedAmber::DataFrame : 1 x 4 Vectors, 0x000000000000fde8&gt;
        x y        z             x*z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       6 C        false           0</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives overloaded dataframes in self to the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pairs of keys and column values which are overloaded.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames object with updated DataFrames.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


780
781
782</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 780</span>

<span class='kw'>def</span> <span class='id identifier rubyid_assign'>assign</span><span class='lparen'>(</span><span class='op'>...</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_df'>df</span><span class='op'>|</span> <span class='id identifier rubyid_df'>df</span><span class='period'>.</span><span class='id identifier rubyid_assign'>assign</span><span class='lparen'>(</span><span class='op'>...</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="baseframe-instance_method">
  
    #<strong>baseframe</strong>  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='concatenate-instance_method'>concatenate</span>, <span id='concat-instance_method'>concat</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return concatenated SubFrames as a DataFrame.</p>

<p>Once evaluated, memorize it as @baseframe.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a concatenated DataFrame.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_baseframe'>baseframe</span>
  <span class='ivar'>@baseframe</span> <span class='op'>||=</span> <span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:concatenate</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    
      <span class="overload">#<strong>each</strong>  &#x21d2; <tt>Enumerator</tt> </span>
    
      <span class="overload">#<strong>each</strong> {|subframe| ... } &#x21d2; <tt>self</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Iterates over sub DataFrames or returns an Enumerator.</p>

<p>This method will memorize sub DataFrames and always returns the same object. The Class SubFrames is including Enumerable module. So many methods in Enumerable are available.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Returns Enumerator</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_subframes'>subframes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>

<span class='comment'># =&gt;
</span><span class='comment'>#&lt;Enumerator: ...&gt;</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>‘to_a` from Enumerable.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.to_a

# =&gt;
[#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x000000000002a120&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
,
 #&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x000000000002a134&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
,
 #&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000002a148&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false
]</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Concatenate SubFrames. This example is used in #concatenate.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.reduce(&amp;:concatenate)

# =&gt;
#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000004883c&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
2       3 B        false
3       4 B        (nil)
4       5 B        true
5       6 C        false</code></pre>
    
  </div>

  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each</strong>  &#x21d2; <tt>Enumerator</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Returns a new Enumerator if no block given.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Enumerator of each elements.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each</strong> {|subframe| ... } &#x21d2; <tt>self</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>When a block given, passes each sub DataFrames to the block.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>subframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>passes sub DataFrame by a block parameter.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>evaluated result value from the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns self.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 398</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='id identifier rubyid___method__'>__method__</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_size'>size</span> <span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block'>block</span>

  <span class='kw'>if</span> <span class='ivar'>@selectors</span>
    <span class='ivar'>@selectors</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='kw'>yield</span> <span class='ivar'>@frames</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_subframe'>get_subframe</span><span class='lparen'>(</span><span class='id identifier rubyid_selector'>selector</span><span class='rparen'>)</span>
        <span class='ivar'>@frames</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_frame'>frame</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_frame'>frame</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    #<strong>empty?</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Test if subset is empty?.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if self is an empty subset.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1024
1025
1026</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1024</span>

<span class='kw'>def</span> <span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_size'>size</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filter_map-instance_method">
  
    #<strong>filter_map</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a SubFrames containing truthy DataFrames returned by the block.</p>

<p>With a block given, calls the block with successive DataFrames; returns a SubFrames of those DataFrames for which the block returns nil or false.</p>
<dl class="rdoc-list label-list"><dt>Returns SubFrames</dt>
<dd>
<p>Use ‘#each.filter_map` if you want to get DataFrames by Array.</p>
</dd></dl>

<p>Returns an Enumerator with no block given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Filter for size is larger than 1 and append number to column ‘y’.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.filter_map do |df|
  if df.size &gt; 1
    df.assign(:y) do
      y.merge(indices(&#39;1&#39;), sep: &#39;&#39;)
    end
  end
end

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000001da88&gt;
@baseframe=#&lt;RedAmber::DataFrame : 5 x 3 Vectors, 0x000000000001da9c&gt;
2 SubFrames: [2, 3] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x000000000001dab0&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A1       false
1       2 A2       true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x000000000001dac4&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B1       false
1       4 B2       (nil)
2       5 B3       true</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives each element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block should return DataFrames with same schema.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


943</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 943</span>

<span class='id identifier rubyid_define_subframable_method'>define_subframable_method</span> <span class='symbol'>:filter_map</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="frames-instance_method">
  
    
      <span class="overload">#<strong>frames</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt> </span>
    
      <span class="overload">#<strong>frames</strong>(n_frames)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return an Array of sub DataFrames</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>frames</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Returns all sub dataframes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sub DataFrames.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>frames</strong>(n_frames)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Returns partial sub dataframes.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_frames</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>num of dataframes to retrieve.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sub DataFrames.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.2</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1163
1164
1165
1166
1167
1168
1169
1170
1171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_frames'>frames</span><span class='lparen'>(</span><span class='id identifier rubyid_n_frames'>n_frames</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_n_frames'>n_frames</span> <span class='op'>=</span> <span class='id identifier rubyid_size'>size</span> <span class='kw'>if</span> <span class='id identifier rubyid_n_frames'>n_frames</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>if</span> <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_n_frames'>n_frames</span>
    <span class='ivar'>@frames</span> <span class='op'>=</span> <span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_n_frames'>n_frames</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_n_frames'>n_frames</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>(limit: 5)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return summary information of self.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>df

# =&gt;
#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000caa8&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
2       3 B        false
3       4 B        (nil)
4       5 B        true
5       6 C        false

SubFrames.new(df, [[0, 1], [2, 3, 4], [5]])

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000c1fc&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000c170&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x000000000002a120&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000002a134&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000002a148&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>5</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>maximum number of DataFrames to show.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return class name, object id, universal DataFrame, size and subset sizes in a String.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_shape'>shape</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='ivar'>@baseframe</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(Not prepared)</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_baseframe'>baseframe</span><span class='period'>.</span><span class='id identifier rubyid_shape_str'>shape_str</span><span class='lparen'>(</span><span class='label'>with_id:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='id identifier rubyid_sizes_truncated'>sizes_truncated</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_limit'>limit</span> <span class='op'>?</span> <span class='id identifier rubyid_sizes'>sizes</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_limit'>limit</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_sizes'>sizes</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> : </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0x%016x</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_object_id'>object_id</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;\n</span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@baseframe=#&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shape'>shape</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;\n</span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> SubFrame</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pl'>pl</span><span class='lparen'>(</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sizes_truncated'>sizes_truncated</span><span class='embexpr_end'>}</span><span class='tstring_content'>] in size</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pl'>pl</span><span class='lparen'>(</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>.\n</span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>---\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid__to_s'>_to_s</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span> <span class='label'>with_id:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map-instance_method">
  
    #<strong>map</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='collect-instance_method'>collect</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a SubFrames containing DataFrames returned by the block.</p>
<dl class="rdoc-list label-list"><dt>Returns SubFrames</dt>
<dd>
<p>Use ‘#each.map` if you want to get DataFrames by Array.</p>
</dd></dl>

<p>Returns an Enumerator with no block given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Map as it is.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.map { _1 }

# This will create a new SubFrame and a new baseframe,
# But each element DataFrames are re-used.
# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000001e6cc&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000001e6e0&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x00000000000135c4&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x00000000000135d8&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x00000000000135ec&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Assign a new column.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.map { |df| df.assign(x_plus1: df[:x] + 1) }

# =&gt;
#&lt;RedAmber::SubFrames : 0x0000000000040948&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 4 Vectors, 0x000000000004095c&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 4 Vectors, 0x0000000000040970&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       1 A        false           2
1       2 A        true            3
---
#&lt;RedAmber::DataFrame : 3 x 4 Vectors, 0x0000000000040984&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       3 B        false           4
1       4 B        (nil)           5
2       5 B        true            6
---
#&lt;RedAmber::DataFrame : 1 x 4 Vectors, 0x0000000000040998&gt;
        x y        z         x_plus1
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt; &lt;uint8&gt;
0       6 C        false           7</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives each element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block should return DataFrames with same schema.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


657</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 657</span>

<span class='id identifier rubyid_define_subframable_method'>define_subframable_method</span> <span class='symbol'>:map</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="offset_indices-instance_method">
  
    #<strong>offset_indices</strong>  &#x21d2; <tt>Array&lt;Integer&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Indices at the top of each sub DataFrames.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>When ‘sizes` is [2, 3, 1].</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_subframes'>subframes</span><span class='period'>.</span><span class='id identifier rubyid_offset_indices'>offset_indices</span> <span class='comment'># =&gt; [0, 2, 5]</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Integer&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indices of offset of each sub DataFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1003</span>

<span class='kw'>def</span> <span class='id identifier rubyid_offset_indices'>offset_indices</span>
  <span class='kw'>case</span> <span class='ivar'>@selectors</span>
  <span class='kw'>when</span> <span class='const'>Filters</span>
    <span class='ivar'>@selectors</span><span class='period'>.</span><span class='id identifier rubyid_selectors'>selectors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_selector'>selector</span><span class='op'>|</span>
      <span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span> <span class='comment'># Indices, nil
</span>    <span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_sizes'>sizes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_size'>size</span><span class='op'>|</span>
      <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+=</span> <span class='id identifier rubyid_size'>size</span>
      <span class='id identifier rubyid_sum'>sum</span> <span class='op'>-</span> <span class='id identifier rubyid_size'>size</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject-instance_method">
  
    #<strong>reject</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a SubFrames containing DataFrames rejected by the block.</p>

<p>With a block given, calls the block with successive DataFrames; returns a SubFrames of those DataFrames for which the block returns nil or false.</p>
<dl class="rdoc-list label-list"><dt>Returns SubFrames</dt>
<dd>
<p>Use ‘#each.reject` if you want to get DataFrames by Array.</p>
</dd></dl>

<p>Returns an Enumerator with no block given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Reject all.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.reject { true }

# =&gt;
#&lt;RedAmber::SubFrames : 0x00000000000238c0&gt;
@baseframe=#&lt;RedAmber::DataFrame : (empty), 0x00000000000238d4&gt;
0 SubFrame: [] in size.
---</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Reject nothing.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.reject { false }

# =&gt;
#&lt;RedAmber::SubFrames : 0x0000000000003a84&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x0000000000003a98&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x0000000000003a0c&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x0000000000003a20&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x0000000000003a34&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Reject if Vector ‘:z` has any true.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.reject { |df| df[:z].any? }

# =&gt;
#&lt;RedAmber::SubFrames : 0x0000000000038d74&gt;
@baseframe=#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000001ad10&gt;
1 SubFrame: [1] in size.
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x000000000001ad10&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives each element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block should return DataFrames with same schema.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


907</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 907</span>

<span class='id identifier rubyid_define_subframable_method'>define_subframable_method</span> <span class='symbol'>:reject</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select-instance_method">
  
    #<strong>select</strong> {|dataframe| ... } &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='filter-instance_method'>filter</span>, <span id='find_all-instance_method'>find_all</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a SubFrames containing DataFrames selected by the block.</p>

<p>With a block given, calls the block with successive DataFrames; returns a SubFrames of those DataFrames for which the block returns a truthy value.</p>
<dl class="rdoc-list label-list"><dt>Returns SubFrames</dt>
<dd>
<p>Use ‘#each.select` if you want to get DataFrames by Array.</p>
</dd></dl>

<p>Returns an Enumerator with no block given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Select all.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.select { true }

# =&gt;
#&lt;RedAmber::SubFrames : 0x0000000000003a84&gt;
@baseframe=#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x0000000000003a98&gt;
3 SubFrames: [2, 3, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x0000000000003a0c&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x0000000000003a20&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
#&lt;RedAmber::DataFrame : 1 x 3 Vectors, 0x0000000000003a34&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Select nothing.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.select { false }

# =&gt;
#&lt;RedAmber::SubFrames : 0x00000000000238c0&gt;
@baseframe=#&lt;RedAmber::DataFrame : (empty), 0x00000000000238d4&gt;
0 SubFrame: [] in size.
---</code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Select if Vector ‘:z` has any true.</p>
</div></h5>
      
      <pre class="example code"><code>subframes.select { |df| df[:z].any? }

# =&gt;
#&lt;RedAmber::SubFrames : 0x000000000000fba4&gt;
@baseframe=#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x000000000000fbb8&gt;
2 SubFrames: [2, 1] in sizes.
---
#&lt;RedAmber::DataFrame : 2 x 3 Vectors, 0x0000000000003a0c&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
#&lt;RedAmber::DataFrame : 3 x 3 Vectors, 0x0000000000003a20&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>dataframe</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives each element.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block should return DataFrames with same schema.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new SubFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


848</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 848</span>

<span class='id identifier rubyid_define_subframable_method'>define_subframable_method</span> <span class='symbol'>:select</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    #<strong>size</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Number of subsets.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>number of subsets in self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


971
972
973
974
975
976
977
978</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 971</span>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span>
  <span class='ivar'>@size</span> <span class='op'>||=</span>
    <span class='kw'>if</span> <span class='ivar'>@selectors</span>
      <span class='ivar'>@selectors</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='kw'>else</span>
      <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sizes-instance_method">
  
    #<strong>sizes</strong>  &#x21d2; <tt>Array&lt;Integer&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Size list of subsets.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Integer&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>sizes of sub DataFrames.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


986
987
988
989
990
991
992
993</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 986</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sizes'>sizes</span>
  <span class='ivar'>@sizes</span> <span class='op'>||=</span>
    <span class='kw'>if</span> <span class='ivar'>@selectors</span>
      <span class='ivar'>@selectors</span><span class='period'>.</span><span class='id identifier rubyid_sizes'>sizes</span>
    <span class='kw'>else</span>
      <span class='ivar'>@frames</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:size</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="take-instance_method">
  
    #<strong>take</strong>(num)  &#x21d2; <tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return 0…num sub-dataframes in self.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>num</span>
      
      
        <span class='type'>(<tt>Integer</tt>, <tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>num of sub-dataframes to pick up. ‘num“ must be positive or zero.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A new SubFrames. If n == 0, it returns empty SubFrames. If n &gt;= size, it returns self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.2</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


955
956
957
958
959
960
961
962
963</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 955</span>

<span class='kw'>def</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_num'>num</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='const'><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="RedAmber::SubFrames#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_num'>num</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_size'>size</span>
    <span class='kw'>self</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="" title="RedAmber::SubFrames (class)">SubFrames</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_dataframes'><span class='object_link'><a href="#by_dataframes-class_method" title="RedAmber::SubFrames.by_dataframes (method)">by_dataframes</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_frames'>frames</span><span class='lparen'>(</span><span class='id identifier rubyid_num'>num</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>(limit: 5)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return string representation of self.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code>df

# =&gt;
#&lt;RedAmber::DataFrame : 6 x 3 Vectors, 0x000000000000caa8&gt;
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
2       3 B        false
3       4 B        (nil)
4       5 B        true
5       6 C        false

puts SubFrames.new(df, [[0, 1], [2, 3, 4], [5]])

# =&gt;
  x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       1 A        false
1       2 A        true
---
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       3 B        false
1       4 B        (nil)
2       5 B        true
---
        x y        z
  &lt;uint8&gt; &lt;string&gt; &lt;boolean&gt;
0       6 C        false</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>5</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>maximum number of DataFrames to show.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return string representation of each sub DataFrame.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1078
1079
1080</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1078</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__to_s'>_to_s</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='id identifier rubyid_limit'>limit</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="universal?-instance_method">
  
    #<strong>universal?</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Test if self has only one subset and it is comprehensive.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the only member of self is equal to universal DataFrame.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1034
1035
1036</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/subframes.rb', line 1034</span>

<span class='kw'>def</span> <span class='id identifier rubyid_universal?'>universal?</span>
  <span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='ivar'>@baseframe</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Apr 28 01:16:09 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.3).
</div>

    </div>
  </body>
</html>