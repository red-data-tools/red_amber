<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: RedAmber::VectorFunctions
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RedAmber::VectorFunctions";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../RedAmber.html" title="RedAmber (module)">RedAmber</a></span></span>
     &raquo; 
    <span class="title">VectorFunctions</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: RedAmber::VectorFunctions
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/red_amber/vector_functions.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>mix-ins for class Vector</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#coerce-instance_method" title="#coerce (instance method)">#<strong>coerce</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_na-instance_method" title="#is_na (instance method)">#<strong>is_na</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quantile-instance_method" title="#quantile (instance method)">#<strong>quantile</strong>(prob = 0.5, interpolation: :linear, skip_nils: true, min_count: 0)  &#x21d2; Float </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return quantile   0.5 quantile (median) is returned by default.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quantiles-instance_method" title="#quantiles (instance method)">#<strong>quantiles</strong>(probs = [1.0, 0.75, 0.5, 0.25, 0.0], interpolation: :linear, skip_nils: true, min_count: 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return quantiles in a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sd-instance_method" title="#sd (instance method)">#<strong>sd</strong>  &#x21d2; Object </a>
    

    
      (also: #std)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unbiased_variance-instance_method" title="#unbiased_variance (instance method)">#<strong>unbiased_variance</strong>  &#x21d2; Object </a>
    

    
      (also: #var)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="coerce-instance_method">
  
    #<strong>coerce</strong>(other)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_coerce'>coerce</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Vector.html#initialize-instance_method" title="RedAmber::Vector#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_na-instance_method">
  
    #<strong>is_na</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_na'>is_na</span>
  <span class='id identifier rubyid_numeric?'>numeric?</span> <span class='op'>?</span> <span class='lparen'>(</span><span class='id identifier rubyid_is_nil'>is_nil</span> <span class='op'>|</span> <span class='id identifier rubyid_is_nan'>is_nan</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_is_nil'>is_nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quantile-instance_method">
  
    #<strong>quantile</strong>(prob = 0.5, interpolation: :linear, skip_nils: true, min_count: 0)  &#x21d2; <tt>Float</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return quantile</p>

<pre class="code ruby"><code class="ruby">0.5 quantile (median) is returned by default.
Or return quantile for specified probability (prob).
If quantile lies between two data points, interpolated value is
returned based on selected interpolation method.
Nils and NaNs are ignored.
Nil is returned if there are no valid data point.
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>prob</span>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0.5</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>probability.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>interpolation</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:linear</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>specifies interpolation method to use, when the quantile lies between the data i and j.</p>
<ul><li>
<p>Default value is :linear, which returns i + (j - i) * fraction.</p>
</li><li>
<p>:lower returns i.</p>
</li><li>
<p>:higher returns j.</p>
</li><li>
<p>:nearest returns i or j, whichever is closer.</p>
</li><li>
<p>:midpoint returns (i + j) / 2.</p>
</li></ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>skip_nils</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>wheather to ignore nil.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>min_count</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>min count.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>quantile.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quantile'>quantile</span><span class='lparen'>(</span><span class='id identifier rubyid_prob'>prob</span> <span class='op'>=</span> <span class='float'>0.5</span><span class='comma'>,</span> <span class='label'>interpolation:</span> <span class='symbol'>:linear</span><span class='comma'>,</span> <span class='label'>skip_nils:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>min_count:</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_cover?'>cover?</span> <span class='id identifier rubyid_prob'>prob</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="VectorArgumentError.html" title="RedAmber::VectorArgumentError (class)">VectorArgumentError</a></span></span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid: probability </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prob'>prob</span><span class='embexpr_end'>}</span><span class='tstring_content'> must be between 0 and 1</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_datum'>datum</span> <span class='op'>=</span> <span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:quantile</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_data'>data</span><span class='rbracket'>]</span><span class='comma'>,</span>
                                  <span class='label'>q:</span> <span class='id identifier rubyid_prob'>prob</span><span class='comma'>,</span>
                                  <span class='label'>interpolation:</span> <span class='id identifier rubyid_interpolation'>interpolation</span><span class='comma'>,</span>
                                  <span class='label'>skip_nulls:</span> <span class='id identifier rubyid_skip_nils'>skip_nils</span><span class='comma'>,</span>
                                  <span class='label'>min_count:</span> <span class='id identifier rubyid_min_count'>min_count</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quantiles-instance_method">
  
    #<strong>quantiles</strong>(probs = [1.0, 0.75, 0.5, 0.25, 0.0], interpolation: :linear, skip_nils: true, min_count: 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return quantiles in a DataFrame</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quantiles'>quantiles</span><span class='lparen'>(</span><span class='id identifier rubyid_probs'>probs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='float'>0.75</span><span class='comma'>,</span> <span class='float'>0.5</span><span class='comma'>,</span> <span class='float'>0.25</span><span class='comma'>,</span> <span class='float'>0.0</span><span class='rbracket'>]</span><span class='comma'>,</span>
              <span class='label'>interpolation:</span> <span class='symbol'>:linear</span><span class='comma'>,</span> <span class='label'>skip_nils:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>min_count:</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_probs'>probs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_probs'>probs</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_q'>q</span><span class='op'>|</span> <span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_cover?'>cover?</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="VectorArgumentError.html" title="RedAmber::VectorArgumentError (class)">VectorArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invarid probavilities </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_probs'>probs</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>probs:</span> <span class='id identifier rubyid_probs'>probs</span><span class='comma'>,</span>
    <span class='label'>quantiles:</span> <span class='id identifier rubyid_probs'>probs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_q'>q</span><span class='op'>|</span>
      <span class='id identifier rubyid_quantile'>quantile</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='comma'>,</span>
               <span class='label'>interpolation:</span> <span class='id identifier rubyid_interpolation'>interpolation</span><span class='comma'>,</span> <span class='label'>skip_nils:</span> <span class='id identifier rubyid_skip_nils'>skip_nils</span><span class='comma'>,</span>
               <span class='label'>min_count:</span> <span class='id identifier rubyid_min_count'>min_count</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sd-instance_method">
  
    #<strong>sd</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='std-instance_method'>std</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sd'>sd</span>
  <span class='id identifier rubyid_stddev'>stddev</span><span class='lparen'>(</span><span class='label'>ddof:</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unbiased_variance-instance_method">
  
    #<strong>unbiased_variance</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='var-instance_method'>var</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/vector_functions.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unbiased_variance'>unbiased_variance</span>
  <span class='id identifier rubyid_variance'>variance</span><span class='lparen'>(</span><span class='label'>ddof:</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 26 00:44:23 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.2.0).
</div>

    </div>
  </body>
</html>