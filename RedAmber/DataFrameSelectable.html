<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: RedAmber::DataFrameSelectable
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RedAmber::DataFrameSelectable";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../RedAmber.html" title="RedAmber (module)">RedAmber</a></span></span>
     &raquo; 
    <span class="title">DataFrameSelectable</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: RedAmber::DataFrameSelectable
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/red_amber/data_frame_selectable.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Mix-in for the class DataFrame</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select variables or records.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filter-instance_method" title="#filter (instance method)">#<strong>filter</strong>(*booleans, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records by filtering with booleans to create a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>(n_obs = 1)  &#x21d2; DataFrame </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records from the top.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#head-instance_method" title="#head (instance method)">#<strong>head</strong>(n_obs = 5)  &#x21d2; DataFrame </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records from the top.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>(n_obs = 1)  &#x21d2; DataFrame </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records from the end.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-instance_method" title="#remove (instance method)">#<strong>remove</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records and remove them to create a remainer DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_nil-instance_method" title="#remove_nil (instance method)">#<strong>remove_nil</strong>  &#x21d2; DataFrame </a>
    

    
      (also: #drop_nil)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove records (rows) contains any nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample-instance_method" title="#sample (instance method)">#<strong>sample</strong>(n_or_prop = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records randomly to create a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shuffle-instance_method" title="#shuffle (instance method)">#<strong>shuffle</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a DataFrame with shuffled rows.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records to create a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice_by-instance_method" title="#slice_by (instance method)">#<strong>slice_by</strong>(key, keep_key: false, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records by a column specified by a key and corresponding record with a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tail-instance_method" title="#tail (instance method)">#<strong>tail</strong>(n_obs = 5)  &#x21d2; DataFrame </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select records from the end.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(index_array)  &#x21d2; DataFrame </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Select records by index Array to create a DataFrame.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#v-instance_method" title="#v (instance method)">#<strong>v</strong>(key)  &#x21d2; Vector </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select a variable by String or Symbol and return as a Vector.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-instance_method">
  
    
      <span class="overload">#<strong>[]</strong>(key)  &#x21d2; <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt> </span>
    
      <span class="overload">#<strong>[]</strong>(keys)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>[]</strong>(index)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>[]</strong>(indices)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>[]</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select variables or records.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(key)  &#x21d2; <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>DataFrame.v(key) is faster to create Vector from a variable.</p>
</div>
  </div>


<p>Select single variable (column) and return as a Vetor.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select a column and return Vector</p>
</div></p>
      
      <pre class="example code"><code>penguins

# =&gt;
#&lt;RedAmber::DataFrame : 344 x 8 Vectors, 0x00000000000039bc&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
341 Gentoo   Biscoe              50.4          15.7               222 ...     2009
342 Gentoo   Biscoe              45.2          14.8               212 ...     2009
343 Gentoo   Biscoe              49.9          16.1               213 ...     2009

penguins[:bill_length_mm]

# =&gt;
#&lt;RedAmber::Vector(:double, size=344, chunked):0x0000000000008f0c&gt;
[39.1, 39.5, 40.3, nil, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, 37.8, 37.8, 41.1, ... ]</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>key name to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variable as a Vector.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(keys)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select variables and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select columns</p>
</div></p>
      
      <pre class="example code"><code>penguins[:island, :bill_length_mm]

# =&gt;
#&lt;RedAmber::DataFrame : 344 x 2 Vectors, 0x00000000000104f0&gt;
    island    bill_length_mm
    &lt;string&gt;        &lt;double&gt;
  0 Torgersen           39.1
  1 Torgersen           39.5
  2 Torgersen           40.3
  3 Torgersen          (nil)
  4 Torgersen           36.7
  : :                      :
341 Biscoe              50.4
342 Biscoe              45.2
343 Biscoe              49.9</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>keys</span>
      
      
        <span class='type'>(<tt>&lt;Symbol, String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>key names to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(index)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select a record and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select a row</p>
</div></p>
      
      <pre class="example code"><code>penguins[0]

# =&gt;
#&lt;RedAmber::DataFrame : 1 x 8 Vectors, 0x0000000000010504&gt;
  species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
  &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
0 Adelie   Torgersen           39.1          18.7               181 ...     2007</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>index</span>
      
      
        <span class='type'>(<tt>Indeger</tt>, <tt>Float</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>index of a row to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(indices)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by indices and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by indices</p>
</div></p>
      
      <pre class="example code"><code>penguins[0..100]

# =&gt;
#&lt;RedAmber::DataFrame : 101 x 8 Vectors, 0x00000000000105e0&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
 98 Adelie   Dream               33.1          16.1               178 ...     2008
 99 Adelie   Dream               43.2          18.5               192 ...     2008
100 Adelie   Biscoe              35.0          17.9               192 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>indices</span>
      
      
        <span class='type'>(<tt>&lt;Indeger&gt;</tt>, <tt>&lt;Float&gt;</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>] indices of rows to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by booleans and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by booleans</p>
</div></p>
      
      <pre class="example code"><code>penguins[penguins.species == &#39;Adelie&#39;]

# =&gt;
#&lt;RedAmber::DataFrame : 152 x 8 Vectors, 0x0000000000010658&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
149 Adelie   Dream               37.8          18.1               193 ...     2009
150 Adelie   Dream               36.0          17.1               187 ...     2009
151 Adelie   Dream               41.5          18.5               201 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>booleans</span>
      
      
        <span class='type'>(<tt>Array&lt;true, false, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>] booleans of rows to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 132</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self is an empty dataframe</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_remove_all_values'>remove_all_values</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='lparen'>(</span><span class='const'>Symbol</span> <span class='op'>|</span> <span class='const'>String</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_key?'>key?</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span> <span class='op'>?</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_arrow_array'>arrow_array</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span> <span class='op'>|</span> <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>ChunkedArray</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_aa'>aa</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_arrow_array'>arrow_array</span> <span class='op'>=</span> <span class='id identifier rubyid_aa'>aa</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_args'>parse_args</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_select_variables_by_keys'>select_variables_by_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_symbol?'>symbol?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_normalize_indices'>normalize_indices</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_integer?'>integer?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_remove_all_values'>remove_all_values</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>BooleanArray</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid arguments: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_normalize_indices'>normalize_indices</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_numeric?'>numeric?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>

  <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_select_variables_by_keys'>select_variables_by_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_symbol_or_string?'>symbol_or_string?</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid arguments: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filter-instance_method">
  
    
      <span class="overload">#<strong>filter</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>filter</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with booleans to create a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>filter</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with booleans and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Filter by boolean Vector</p>
</div></p>
      
      <pre class="example code"><code>penguins

# =&gt;
#&lt;RedAmber::DataFrame : 344 x 8 Vectors, 0x00000000000039bc&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
341 Gentoo   Biscoe              50.4          15.7               222 ...     2009
342 Gentoo   Biscoe              45.2          14.8               212 ...     2009
343 Gentoo   Biscoe              49.9          16.1               213 ...     2009

penguins.filter(penguins.bill_length_mm &lt; 50)

# =&gt;
#&lt;RedAmber::DataFrame : 285 x 8 Vectors, 0x00000000000101a8&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen           36.7          19.3               193 ...     2007
  4 Adelie   Torgersen           39.3          20.6               190 ...     2007
  : :        :                      :             :                 : ...        :
282 Gentoo   Biscoe              46.8          14.3               215 ...     2009
283 Gentoo   Biscoe              45.2          14.8               212 ...     2009
284 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>booleans</span>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>filtered records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>filter</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with block and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Filter by boolean Vector</p>
</div></p>
      
      <pre class="example code"><code>penguins.filter { bill_length_mm &lt; 50 }

# =&gt;
#&lt;RedAmber::DataFrame : 285 x 8 Vectors, 0x00000000000101bc&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen           36.7          19.3               193 ...     2007
  4 Adelie   Torgersen           39.3          20.6               190 ...     2007
  : :        :                      :             :                 : ...        :
282 Gentoo   Biscoe              46.8          14.3               215 ...     2009
283 Gentoo   Biscoe              45.2          14.8               212 ...     2009
284 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter. â€˜Vector` or `Arrow::Array` must be boolean type.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>filtered records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 563</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filter'>filter</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_booleans'>booleans</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_booleans'>booleans</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Self is an empty dataframe</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_booleans'>booleans</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Must not specify both arguments and block.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_booleans'>booleans</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_booleans'>booleans</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_remove_all_values'>remove_all_values</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>ChunkedArray</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ca'>ca</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_ca'>ca</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_ca'>ca</span><span class='rparen'>)</span>
  <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>BooleanArray</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_parse_args'>parse_args</span><span class='lparen'>(</span><span class='id identifier rubyid_booleans'>booleans</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not a boolean filter: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_booleans'>booleans</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="first-instance_method">
  
    #<strong>first</strong>(n_obs = 1)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records from the top.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_obs</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of records to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


825
826
827</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 825</span>

<span class='kw'>def</span> <span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_head'>head</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="head-instance_method">
  
    #<strong>head</strong>(n_obs = 5)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records from the top.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_obs</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>5</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of records to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


801
802
803
804
805</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 801</span>

<span class='kw'>def</span> <span class='id identifier rubyid_head'>head</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span> <span class='op'>=</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Index is out of range </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_n_obs'>n_obs</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='kw'>self</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='lbracket'>[</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last-instance_method">
  
    #<strong>last</strong>(n_obs = 1)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records from the end.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_obs</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of records to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


835
836
837</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 835</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last'>last</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tail'>tail</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove-instance_method">
  
    
      <span class="overload">#<strong>remove</strong>(row)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>remove</strong>(rows)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>remove</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>remove</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>remove</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records and remove them to create a remainer DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>remove</strong>(row)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select a record and remove it to create a remainer DataFrame.</p>
<ul><li>
<p>The order of records in self will be preserved.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Remove a row</p>
</div></p>
      
      <pre class="example code"><code>penguins.remove(-1)

# =&gt;
#&lt;RedAmber::DataFrame : 343 x 8 Vectors, 0x0000000000010310&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
340 Gentoo   Biscoe              46.8          14.3               215 ...     2009
341 Gentoo   Biscoe              50.4          15.7               222 ...     2009
342 Gentoo   Biscoe              45.2          14.8               212 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>Indeger</tt>, <tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a row index to remove.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>remainer variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>remove</strong>(rows)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records and remove them to create a remainer DataFrame.</p>
<ul><li>
<p>Duplicated selection is acceptable.</p>
</li><li>
<p>The order of records in self will be preserved.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Remove rows</p>
</div></p>
      
      <pre class="example code"><code>penguins.remove(100..200)

# =&gt;
#&lt;RedAmber::DataFrame : 243 x 8 Vectors, 0x0000000000010450&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  4 Adelie   Torgersen           36.7          19.3               193 ...     2007
  : :        :                      :             :                 : ...        :
240 Gentoo   Biscoe              50.4          15.7               222 ...     2009
241 Gentoo   Biscoe              45.2          14.8               212 ...     2009
242 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rows</span>
      
      
        <span class='type'>(<tt>&lt;Integer&gt;</tt>, <tt>&lt;Float&gt;</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>row indeces to remove.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>remainer variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>remove</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by indices from block and remove them to create a remainer DataFrame.</p>
<ul><li>
<p>Duplicated selection is acceptable.</p>
</li><li>
<p>The order of records in self will be preserved.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Remove rows by indices from block</p>
</div></p>
      
      <pre class="example code"><code>penguins.remove { 0.step(size, 10) }

# =&gt;
#&lt;RedAmber::DataFrame : 309 x 8 Vectors, 0x00000000000104c8&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.5          17.4               186 ...     2007
  1 Adelie   Torgersen           40.3          18.0               195 ...     2007
  2 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
  3 Adelie   Torgersen           36.7          19.3               193 ...     2007
  4 Adelie   Torgersen           39.3          20.6               190 ...     2007
  : :        :                      :             :                 : ...        :
306 Gentoo   Biscoe              50.4          15.7               222 ...     2009
307 Gentoo   Biscoe              45.2          14.8               212 ...     2009
308 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;Integer, Float&gt;</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>row indeces to remove.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>remainer variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>remove</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with booleans and return a DataFrame.</p>
<ul><li>
<p>The order of records in self will be preserved.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Remove rows by boolean filter</p>
</div></p>
      
      <pre class="example code"><code>penguins.remove(penguins.bill_length_mm.is_nil)

# =&gt;
#&lt;RedAmber::DataFrame : 342 x 8 Vectors, 0x0000000000010234&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen           36.7          19.3               193 ...     2007
  4 Adelie   Torgersen           39.3          20.6               190 ...     2007
  : :        :                      :             :                 : ...        :
339 Gentoo   Biscoe              50.4          15.7               222 ...     2009
340 Gentoo   Biscoe              45.2          14.8               212 ...     2009
341 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>booleans</span>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter to remove.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>remainer records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>remove</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by booleans from block and remove them to create a remainer DataFrame.</p>
<ul><li>
<p>The order of records in self will be preserved.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Remove rows by booleans from block</p>
</div></p>
      
      <pre class="example code"><code>penguins.remove { (species == &#39;Adelie&#39;) | (year == 2009) }

# =&gt;
#&lt;RedAmber::DataFrame : 124 x 8 Vectors, 0x00000000000102fc&gt;
    species   island   bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt;  &lt;string&gt;       &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Chinstrap Dream              46.5          17.9               192 ...     2007
  1 Chinstrap Dream              50.0          19.5               196 ...     2007
  2 Chinstrap Dream              51.3          19.2               193 ...     2007
  3 Chinstrap Dream              45.4          18.7               188 ...     2007
  4 Chinstrap Dream              52.7          19.8               197 ...     2007
  : :         :                     :             :                 : ...        :
121 Gentoo    Biscoe             51.1          16.3               220 ...     2008
122 Gentoo    Biscoe             45.2          13.8               215 ...     2008
123 Gentoo    Biscoe             45.2          16.4               223 ...     2008</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter to remove. â€˜Vector` or `Arrow::Array` must be boolean type.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>remainer records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 731</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove'>remove</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Self is an empty dataframe</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Must not specify both arguments and block.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_arrow_array'>arrow_array</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='rbracket'>]</span>
      <span class='kw'>return</span> <span class='kw'>self</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span> <span class='op'>|</span> <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>ChunkedArray</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_aa'>aa</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_aa'>aa</span>
    <span class='kw'>else</span>
      <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_parse_args'>parse_args</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_primitive_invert'>primitive_invert</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_numeric?'>numeric?</span>
    <span class='id identifier rubyid_remover'>remover</span> <span class='op'>=</span> <span class='id identifier rubyid_normalize_indices'>normalize_indices</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_remover'>remover</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_slicer'>slicer</span> <span class='op'>=</span> <span class='id identifier rubyid_indices'>indices</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='op'>-</span> <span class='id identifier rubyid_remover'>remover</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_i</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_remove_all_values'>remove_all_values</span> <span class='kw'>if</span> <span class='id identifier rubyid_slicer'>slicer</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_slicer'>slicer</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid argument </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_nil-instance_method">
  
    #<strong>remove_nil</strong>  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='drop_nil-instance_method'>drop_nil</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove records (rows) contains any nil.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>penguins.remove_nil
# =&gt;
#&lt;RedAmber::DataFrame : 333 x 8 Vectors, 0x00000000000039d0&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           39.5          17.4               186 ...     2007
  2 Adelie   Torgersen           40.3          18.0               195 ...     2007
  3 Adelie   Torgersen           36.7          19.3               193 ...     2007
  4 Adelie   Torgersen           39.3          20.6               190 ...     2007
  : :        :                      :             :                 : ...        :
330 Gentoo   Biscoe              50.4          15.7               222 ...     2009
331 Gentoo   Biscoe              45.2          14.8               212 ...     2009
332 Gentoo   Biscoe              49.9          16.1               213 ...     2009</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>removed DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


789
790
791
792</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 789</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_nil'>remove_nil</span>
  <span class='id identifier rubyid_func'>func</span> <span class='op'>=</span> <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Function</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:drop_null</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="DataFrame.html#create-class_method" title="RedAmber::DataFrame.create (method)">create</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_func'>func</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_table'>table</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample-instance_method">
  
    
      <span class="overload">#<strong>sample</strong>  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>sample</strong>(n)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>sample</strong>(prop)  &#x21d2; <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method requires â€˜arrow-numo-narrayâ€™ gem.</p>
</div>
  </div>


<p>Select records randomly to create a DataFrame.</p>

<pre class="code ruby"><code class="ruby">This method calls `indices.sample`.
We can use the same arguments in `Vector#sample`.
</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>sample</strong>  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Return a DataFrame with a randomly selected record.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a DataFrame with single record.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>sample</strong>(n)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Return a DataFrame with n records selected at random.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>positive number of records to select. If n is smaller or equal to size, records are selected by non-repeating. If n is greater than â€˜size`, records are selected repeatedly.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a DataFrame with sampled records.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>sample</strong>(prop)  &#x21d2; <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Return a DataFrame with records by proportion â€˜prop` at random.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>prop</span>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>positive proportion of records to select. Absolute number of records to select:â€˜prop*size` is rounded (by `half: :up`). If prop is smaller or equal to 1.0, records are selected by non-repeating. If prop is greater than 1.0, some records are selected repeatedly.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a DataFrame with sampled records.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


873
874
875</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 873</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample'>sample</span><span class='lparen'>(</span><span class='id identifier rubyid_n_or_prop'>n_or_prop</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_slice'>slice</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_indices'>indices</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span><span class='lparen'>(</span><span class='id identifier rubyid_n_or_prop'>n_or_prop</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shuffle-instance_method">
  
    #<strong>shuffle</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method requires â€˜arrow-numo-narrayâ€™ gem.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Same behavior as â€˜DataFrame#sample(1.0)`</p>
</div>
  </div>


<p>Returns a DataFrame with shuffled rows.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


884
885
886</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 884</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shuffle'>shuffle</span>
  <span class='id identifier rubyid_sample'>sample</span><span class='lparen'>(</span><span class='float'>1.0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice-instance_method">
  
    
      <span class="overload">#<strong>slice</strong>(row)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice</strong>(rows)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice</strong>(enumerator)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records to create a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(row)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select a record and return a DataFrame.</p>

<p>penguins</p>

<p># =&gt; #&lt;RedAmber::DataFrame : 344 x 8 Vectors, 0x00000000000039bc&gt;</p>

<pre class="code ruby"><code class="ruby">  species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
  &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
0 Adelie   Torgersen           39.1          18.7               181 ...     2007
1 Adelie   Torgersen           39.5          17.4               186 ...     2007
2 Adelie   Torgersen           40.3          18.0               195 ...     2007
3 Adelie   Torgersen          (nil)         (nil)             (nil) ...     2007
4 Adelie   Torgersen           36.7          19.3               193 ...     2007
: :        :                      :             :                 : ...        :
</code></pre>

<p>341 Gentoo   Biscoe              50.4          15.7               222 â€¦     2009 342 Gentoo   Biscoe              45.2          14.8               212 â€¦     2009 343 Gentoo   Biscoe              49.9          16.1               213 â€¦     2009 penguins.slice(2)</p>

<p># =&gt; #&lt;RedAmber::DataFrame : 1 x 8 Vectors, 0x00000000000039d0&gt;</p>

<pre class="code ruby"><code class="ruby">species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
&lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
</code></pre>

<p>0 Adelie   Torgersen           40.3          18.0               195 â€¦     2007</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select a row</p>
</div></p>
      
      <pre class="example code"><code></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>row</span>
      
      
        <span class='type'>(<tt>Indeger</tt>, <tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a row index to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(rows)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records and return a DataFrame.</p>
<ul><li>
<p>Duplicated selection is acceptable. The same record will be returned.</p>
</li><li>
<p>The order of records will be the same as specified indices.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows</p>
</div></p>
      
      <pre class="example code"><code>penguins.slice(300..-1)

# =&gt;
#&lt;RedAmber::DataFrame : 44 x 8 Vectors, 0x000000000000fb54&gt;
   species  island   bill_length_mm bill_depth_mm flipper_length_mm ...     year
   &lt;string&gt; &lt;string&gt;       &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
 0 Gentoo   Biscoe             49.1          14.5               212 ...     2009
 1 Gentoo   Biscoe             52.5          15.6               221 ...     2009
 2 Gentoo   Biscoe             47.4          14.6               212 ...     2009
 3 Gentoo   Biscoe             50.0          15.9               224 ...     2009
 4 Gentoo   Biscoe             44.9          13.8               212 ...     2009
 : :        :                     :             :                 : ...        :
41 Gentoo   Biscoe             50.4          15.7               222 ...     2009
42 Gentoo   Biscoe             45.2          14.8               212 ...     2009
43 Gentoo   Biscoe             49.9          16.1               213 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rows</span>
      
      
        <span class='type'>(<tt>&lt;Integer&gt;</tt>, <tt>&lt;Float&gt;</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>row indeces to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(enumerator)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records and return a DataFrame.</p>
<ul><li>
<p>Duplicated selection is acceptable. The same record will be returned.</p>
</li><li>
<p>The order of records will be the same as specified indices.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by Enumerator.</p>
</div></p>
      
      <pre class="example code"><code>penguins.assign_left(index: penguins.indices) # 0.2.0 feature
        .slice(0.step(by: 10, to: 340))

# =&gt;
#&lt;RedAmber::DataFrame : 35 x 9 Vectors, 0x000000000000f2e4&gt;
index species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
&lt;uint16&gt; &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
0        0 Adelie   Torgersen           39.1          18.7               181 ...     2007
1       10 Adelie   Torgersen           37.8          17.1               186 ...     2007
2       20 Adelie   Biscoe              37.8          18.3               174 ...     2007
3       30 Adelie   Dream               39.5          16.7               178 ...     2007
4       40 Adelie   Dream               36.5          18.0               182 ...     2007
:        : :        :                      :             :                 : ...        :
32      320 Gentoo   Biscoe              48.5          15.0               219 ...     2009
33      330 Gentoo   Biscoe              50.5          15.2               216 ...     2009
34      340 Gentoo   Biscoe              46.8          14.3               215 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>enumerator</span>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an enumerator which returns row indeces to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by indices with block and return a DataFrame.</p>
<ul><li>
<p>Duplicated selection is acceptable. The same record will be returned.</p>
</li><li>
<p>The order of records will be the same as specified indices.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by block</p>
</div></p>
      
      <pre class="example code"><code>penguins.assign_left(index: penguins.indices) # 0.2.0 feature
        .slice { 0.step(by: 100, to: 300).map { |i| i..(i+1) } }

# =&gt;
#&lt;RedAmber::DataFrame : 8 x 9 Vectors, 0x000000000000f3ac&gt;
     index species   island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
  &lt;uint16&gt; &lt;string&gt;  &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
0        0 Adelie    Torgersen           39.1          18.7               181 ...     2007
1        1 Adelie    Torgersen           39.5          17.4               186 ...     2007
2      100 Adelie    Biscoe              35.0          17.9               192 ...     2009
3      101 Adelie    Biscoe              41.0          20.0               203 ...     2009
4      200 Chinstrap Dream               51.5          18.7               187 ...     2009
5      201 Chinstrap Dream               49.8          17.3               198 ...     2009
6      300 Gentoo    Biscoe              49.1          14.5               212 ...     2009
7      301 Gentoo    Biscoe              52.5          15.6               221 ...     2009</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;Integer&gt;</tt>, <tt>&lt;Float&gt;</tt>, <tt>Range&lt;Integer&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>, <tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>row indeces to select.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(booleans)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with booleans and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by boolean filter</p>
</div></p>
      
      <pre class="example code"><code>penguins.slice(penguins[:bill_length_mm] &gt; 50)

# =&gt;
#&lt;RedAmber::DataFrame : 52 x 8 Vectors, 0x000000000000fd98&gt;
   species   island   bill_length_mm bill_depth_mm flipper_length_mm ...     year
   &lt;string&gt;  &lt;string&gt;       &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
 0 Chinstrap Dream              51.3          19.2               193 ...     2007
 1 Chinstrap Dream              52.7          19.8               197 ...     2007
 2 Chinstrap Dream              51.3          18.2               197 ...     2007
 3 Chinstrap Dream              51.3          19.9               198 ...     2007
 4 Chinstrap Dream              51.7          20.3               194 ...     2007
 : :         :                     :             :                 : ...        :
49 Gentoo    Biscoe             51.5          16.3               230 ...     2009
50 Gentoo    Biscoe             55.1          16.0               230 ...     2009
51 Gentoo    Biscoe             50.4          15.7               222 ...     2009</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>booleans</span>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>filtered records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong> {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by filtering with block and return a DataFrame.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select rows by booleans from block</p>
</div></p>
      
      <pre class="example code"><code>penguins.slice { indices.map(&amp;:even?) }

# =&gt;
#&lt;RedAmber::DataFrame : 172 x 8 Vectors, 0x000000000000ff78&gt;
    species  island    bill_length_mm bill_depth_mm flipper_length_mm ...     year
    &lt;string&gt; &lt;string&gt;        &lt;double&gt;      &lt;double&gt;           &lt;uint8&gt; ... &lt;uint16&gt;
  0 Adelie   Torgersen           39.1          18.7               181 ...     2007
  1 Adelie   Torgersen           40.3          18.0               195 ...     2007
  2 Adelie   Torgersen           36.7          19.3               193 ...     2007
  3 Adelie   Torgersen           38.9          17.8               181 ...     2007
  4 Adelie   Torgersen           34.1          18.1               193 ...     2007
  : :        :                      :             :                 : ...        :
169 Gentoo   Biscoe              47.2          13.7               214 ...     2009
170 Gentoo   Biscoe              46.8          14.3               215 ...     2009
171 Gentoo   Biscoe              45.2          14.8               212 ...     2009</code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;Boolean, nil&gt;</tt>, <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a boolean filter. â€˜Vector` or `Arrow::Array` must be boolean type.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>filtered records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 351</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Self is an empty dataframe</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Must not specify both arguments and block.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_arrow_array'>arrow_array</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_remove_all_values'>remove_all_values</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span>
    <span class='kw'>in</span> <span class='lbracket'>[</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span> <span class='op'>|</span> <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>ChunkedArray</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_aa'>aa</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_aa'>aa</span>
    <span class='kw'>else</span>
      <span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_parse_args'>parse_args</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_numeric?'>numeric?</span>
    <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_normalize_indices'>normalize_indices</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_boolean?'>boolean?</span>
    <span class='id identifier rubyid_filter_by_array'>filter_by_array</span><span class='lparen'>(</span><span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_arrow_array'>arrow_array</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='comment'># Ruby 3.0.4 does not accept Arrow::Array#compact here. 2.7.6 and 3.1.2 is OK.
</span>    <span class='id identifier rubyid_remove_all_values'>remove_all_values</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid arguments: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice_by-instance_method">
  
    
      <span class="overload">#<strong>slice_by</strong>(key) {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
      <span class="overload">#<strong>slice_by</strong>(key) {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records by a column specified by a key and corresponding record with a block.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice_by</strong>(key) {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by elements.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select records by elements</p>
</div></p>
      
      <pre class="example code"><code>df

# =&gt;
#&lt;RedAmber::DataFrame : 5 x 3 Vectors, 0x0000000000069e60&gt;
    index    float string
  &lt;uint8&gt; &lt;double&gt; &lt;string&gt;
0       0      0.0 A
1       1      1.1 B
2       2      2.2 C
3       3      NaN D
4   (nil)    (nil) (nil)

df.slice_by(:string) { [&quot;A&quot;, &quot;C&quot;] }

# =&gt;
#&lt;RedAmber::DataFrame : 2 x 2 Vectors, 0x000000000001b1ac&gt;
    index    float
  &lt;uint8&gt; &lt;double&gt;
0       0      0.0
1       2      2.2</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a key to select column.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keep_key</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>preserve column specified by key in the result if true.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;elements&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array of elements to select.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice_by</strong>(key) {|self| ... } &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Select records by elements range.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select records by elements range</p>
</div></p>
      
      <pre class="example code"><code>df.slice_by(:string) { &quot;A&quot;..&quot;C&quot; }

# =&gt;
#&lt;RedAmber::DataFrame : 3 x 2 Vectors, 0x0000000000069668&gt;
    index    float
  &lt;uint8&gt; &lt;double&gt;
0       0      0.0
1       1      1.1
2       2      2.2</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a key to select column.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keep_key</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>preserve column specified by key in the result if true.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>gives self to the block. The block is evaluated within the context of self.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Range</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>specifies position of elements at the start and the end and select records between them.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected records as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.2.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 453</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice_by'>slice_by</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='label'>keep_key:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Self is an empty dataframe</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No block given</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a key of self</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_slicer'>slicer</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DataFrame.html#initialize-instance_method" title="RedAmber::DataFrame#initialize (method)">new</a></span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_slicer'>slicer</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_slicer'>slicer</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span> <span class='id identifier rubyid_slicer'>slicer</span><span class='period'>.</span><span class='id identifier rubyid_begin'>begin</span>
    <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_from'>from</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_from'>from</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_from'>from</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='int'>0</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_from'>from</span> <span class='op'>&lt;</span> <span class='int'>0</span>
        <span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='id identifier rubyid_from'>from</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_from'>from</span>
      <span class='kw'>end</span>
    <span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> <span class='id identifier rubyid_slicer'>slicer</span><span class='period'>.</span><span class='id identifier rubyid_end'>end</span>
    <span class='id identifier rubyid_to'>to</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_to'>to</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_to'>to</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_to'>to</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_to'>to</span> <span class='op'>&lt;</span> <span class='int'>0</span>
        <span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='id identifier rubyid_to'>to</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_to'>to</span>
      <span class='kw'>end</span>
    <span class='id identifier rubyid_slicer'>slicer</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_from'>from</span><span class='op'>..</span><span class='id identifier rubyid_to'>to</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_slicer'>slicer</span> <span class='op'>=</span> <span class='id identifier rubyid_slicer'>slicer</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_taken'>taken</span> <span class='op'>=</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_normalize_indices'>normalize_indices</span><span class='lparen'>(</span><span class='const'>Arrow</span><span class='op'>::</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_slicer'>slicer</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keep_key'>keep_key</span> <span class='op'>?</span> <span class='id identifier rubyid_taken'>taken</span> <span class='op'>:</span> <span class='id identifier rubyid_taken'>taken</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tail-instance_method">
  
    #<strong>tail</strong>(n_obs = 5)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select records from the end.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_obs</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>5</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of records to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


813
814
815
816
817</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 813</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tail'>tail</span><span class='lparen'>(</span><span class='id identifier rubyid_n_obs'>n_obs</span> <span class='op'>=</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Index is out of range </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_n_obs'>n_obs</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='kw'>self</span><span class='lbracket'>[</span><span class='op'>-</span><span class='lbracket'>[</span><span class='id identifier rubyid_n_obs'>n_obs</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='op'>..</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="take-instance_method">
  
    #<strong>take</strong>(index_array)  &#x21d2; <tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Select records by index Array to create a DataFrame.</p>
<ul><li>
<p>TODO: support for option â€˜boundscheck: true`</p>
</li><li>
<p>Supports indices in an Arrow::UInt8, UInt16, Uint32, Uint64 or an Array</p>
</li><li>
<p>Negative index is not supported.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>index_array</span>
      
      
        <span class='type'>(<tt>&lt;Integer&gt;</tt>, <tt>Arrow::Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>row indeces to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variables as a DataFrame.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


900
901
902</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 900</span>

<span class='kw'>def</span> <span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_index_array'>index_array</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="DataFrame.html" title="RedAmber::DataFrame (class)">DataFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="DataFrame.html#create-class_method" title="RedAmber::DataFrame.create (method)">create</a></span></span><span class='lparen'>(</span><span class='ivar'>@table</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_index_array'>index_array</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="v-instance_method">
  
    #<strong>v</strong>(key)  &#x21d2; <tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>#v(key) is faster then #[](key).</p>
</div>
  </div>


<p>Select a variable by String or Symbol and return as a Vector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Select a column and return Vector</p>
</div></p>
      
      <pre class="example code"><code>penguins.v(:bill_length_mm)

# =&gt;
#&lt;RedAmber::Vector(:double, size=344, chunked):0x0000000000008f0c&gt;
[39.1, 39.5, 40.3, nil, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, 37.8, 37.8, 41.1, ... ]</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>key name to select.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Vector.html" title="RedAmber::Vector (class)">Vector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>selected variable as a Vector.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/red_amber/data_frame_selectable.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_v'>v</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="DataFrameArgumentError.html" title="RedAmber::DataFrameArgumentError (class)">DataFrameArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key does not exist: [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Jan 31 23:30:02 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.3.0).
</div>

    </div>
  </body>
</html>